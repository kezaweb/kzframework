<?xml version="1.0" encoding="utf-8"?>
<!--Autogenerated by PropelSchemaReverseTask class.-->
<database name="kzf" defaultIdMethod="native" namespace="Kzf\Model">
  <table name="bch_rul" phpName="BchRul" idMethod="native">
    <column name="bch_id" phpName="BchId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="rul_id" phpName="RulId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="bcr_option" phpName="BcrOption" type="LONGVARCHAR" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="rule" name="fk_bch_rul_rule1">
      <reference local="rul_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="branch" name="fk_bch_rul_branch1">
      <reference local="bch_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_bch_rul_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_bch_rul_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_bch_rul_rule1">
      <index-column name="rul_id"/>
    </index>
    <index name="fk_bch_rul_branch1">
      <index-column name="bch_id"/>
    </index>
    <index name="fk_bch_rul_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_bch_rul_user2">
      <index-column name="updated_by"/>
    </index>
  </table>
  <table name="branch" phpName="Branch" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="bch_title" phpName="BchTitle" type="VARCHAR" size="150" required="false"/>
    <column name="bch_active" phpName="BchActive" type="BOOLEAN" size="1" required="false"/>
    <column name="bch_published_at" phpName="BchPublishedAt" type="TIMESTAMP" required="false"/>
    <column name="bch_level" phpName="BchLevel" type="INTEGER" required="false"/>
    <column name="bch_url" phpName="BchUrl" type="VARCHAR" size="90" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <column name="tpl_id" phpName="TplId" type="INTEGER" required="false"/>
    <foreign-key foreignTable="template" name="fk_branch_template1">
      <reference local="tpl_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_branch_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_branch_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_branch_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_branch_user2">
      <index-column name="updated_by"/>
    </index>
    <index name="fk_branch_template1">
      <index-column name="tpl_id"/>
    </index>
  </table>
  <table name="credential" phpName="Credential" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="cre_name" phpName="CreName" type="VARCHAR" size="50" required="false"/>
    <column name="cre_level" phpName="CreLevel" type="INTEGER" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="user" name="fk_credential_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_credential_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_credential_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_credential_user2">
      <index-column name="updated_by"/>
    </index>
  </table>
  <table name="leaf" phpName="Leaf" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="lef_title" phpName="LefTitle" type="VARCHAR" size="150" required="false"/>
    <column name="lef_active" phpName="LefActive" type="BOOLEAN" size="1" required="false"/>
    <column name="lef_published_at" phpName="LefPublishedAt" type="TIMESTAMP" required="false"/>
    <column name="lef_content" phpName="LefContent" type="BLOB" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="user" name="fk_leaf_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_leaf_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_leaf_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_leaf_user2">
      <index-column name="updated_by"/>
    </index>
  </table>
  <table name="lef_rul" phpName="LefRul" idMethod="native">
    <column name="lef_id" phpName="LefId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="rul_id" phpName="RulId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="ler_option" phpName="LerOption" type="LONGVARCHAR" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="rule" name="fk_lef_rul_rule1">
      <reference local="rul_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="leaf" name="fk_lef_rul_leaf1">
      <reference local="lef_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_lef_rul_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_lef_rul_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_lef_rul_rule1">
      <index-column name="rul_id"/>
    </index>
    <index name="fk_lef_rul_leaf1">
      <index-column name="lef_id"/>
    </index>
    <index name="fk_lef_rul_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_lef_rul_user2">
      <index-column name="updated_by"/>
    </index>
  </table>
  <table name="node">
	  <column name="id" required="true" primaryKey="true" autoIncrement="true" type="INTEGER" />
      <column name="nod_title" phpName="NodTitle" type="VARCHAR" size="150" required="false"/>
      <column name="nod_left" phpName="NodLeft" type="INTEGER" required="false"/>
      <column name="nod_right" phpName="NodRight" type="INTEGER" required="false"/>
      <column name="nod_level" phpName="NodLevel" type="INTEGER" required="false"/>
      <column name="nod_type" phpName="NodType" type="VARCHAR" size="45" required="false"/>
      <column name="nod_cloud" phpName="NodCloud" type="INTEGER" size="1" required="false"/>
      <column name="nod_virtual" phpName="NodVirtual" type="INTEGER" size="1" required="false"/>
	  <column name="bch_id" phpName="BchId" type="INTEGER" required="false"/>
	  <column name="bch_parent" phpName="BchParent" type="INTEGER" required="false"/>
	  <column name="lef_id" phpName="LefId" type="INTEGER" required="false"/>
      <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
      <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	  <behavior name="timestampable" />
	  <behavior name="nested_set">
	    <parameter name="left_column" value="nod_left" />
	    <parameter name="right_column" value="nod_right" />
	    <parameter name="level_column" value="nod_level" />
	    <parameter name="method_proxies" value="true" />
	  </behavior>
  </table>
  <table name="rul_option" phpName="RulOption" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" required="true"/>
    <column name="rou_name" phpName="RouName" type="VARCHAR" size="45" required="false"/>
    <column name="rou_desc" phpName="RouDesc" type="VARCHAR" size="200" required="false"/>
    <column name="rou_default_value" phpName="RouDefaultValue" type="LONGVARCHAR" required="false"/>
    <column name="rou_pattern" phpName="RouPattern" type="LONGVARCHAR" required="false"/>
    <column name="rul_id" phpName="RulId" type="INTEGER" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="rule" name="fk_rul_option_rule1">
      <reference local="rul_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_rul_option_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_rul_option_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_rul_option_rule1">
      <index-column name="rul_id"/>
    </index>
    <index name="fk_rul_option_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_rul_option_user2">
      <index-column name="updated_by"/>
    </index>
  </table>
  <table name="rule" phpName="Rule" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="rul_name" phpName="RulName" type="VARCHAR" size="45" required="false"/>
    <column name="rul_desc" phpName="RulDesc" type="VARCHAR" size="400" required="false"/>
    <column name="rul_actif" phpName="RulActif" type="BOOLEAN" size="1" required="false"/>
    <column name="tru_id" phpName="TruId" type="INTEGER" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="type_rule" name="fk_rule_type_rule1">
      <reference local="tru_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_rule_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_rule_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_rule_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_rule_user2">
      <index-column name="updated_by"/>
    </index>
    <index name="fk_rule_type_rule1">
      <index-column name="tru_id"/>
    </index>
  </table>
  <table name="template" phpName="Template" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="tpl_name" phpName="TplName" type="VARCHAR" size="100" required="false"/>
    <column name="tpl_desc" phpName="TplDesc" type="LONGVARCHAR" required="false"/>
    <column name="tpl_file" phpName="TplFile" type="VARCHAR" size="100" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="user" name="fk_template_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_template_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_template_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_template_user2">
      <index-column name="updated_by"/>
    </index>
  </table>
  <table name="type_rule" phpName="TypeRule" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="is_in_store" phpName="IsInStore" type="BOOLEAN" size="1" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="user" name="fk_type_rule_user1">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_type_rule_user2">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_type_rule_user1">
      <index-column name="created_by"/>
    </index>
    <index name="fk_type_rule_user2">
      <index-column name="updated_by"/>
    </index>
  </table>
  <table name="type_rule_i18n" phpName="TypeRuleI18n" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" required="true"/>
    <column name="local" phpName="Local" type="VARCHAR" size="5" required="true" defaultValue="en_EN"/>
    <column name="tru_name" phpName="TruName" type="VARCHAR" size="255" required="true"/>
    <foreign-key foreignTable="type_rule" name="fk_type_rule_i18n_type_rule1">
      <reference local="id" foreign="id"/>
    </foreign-key>
  </table>
  <table name="user" phpName="User" idMethod="native">
    <column name="id" phpName="Id" type="INTEGER" primaryKey="true" autoIncrement="true" required="true"/>
    <column name="usr_first_name" phpName="UsrFirstName" type="VARCHAR" size="70" required="false"/>
    <column name="usr_last_name" phpName="UsrLastName" type="VARCHAR" size="70" required="false"/>
    <column name="usr_login" phpName="UsrLogin" type="VARCHAR" size="70" required="false"/>
    <column name="usr_password" phpName="UsrPassword" type="VARCHAR" size="70" required="false"/>
    <column name="usr_cp" phpName="UsrCp" type="INTEGER" size="5" required="false"/>
    <column name="usr_avatar" phpName="UsrAvatar" type="VARCHAR" size="100" required="false"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
	<behavior name="timestampable" />
    <foreign-key foreignTable="user" name="fk_created_by_user">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_updated_by_user">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_updated_by_user">
      <index-column name="updated_by"/>
    </index>
    <index name="fk_created_by_user">
      <index-column name="created_by"/>
    </index>
  </table>
  <table name="usr_cre" phpName="UsrCre" idMethod="native">
    <column name="usr_id" phpName="UsrId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="cre_id" phpName="CreId" type="INTEGER" primaryKey="true" required="true"/>
    <column name="created_by" phpName="CreatedBy" type="INTEGER" required="false"/>
    <column name="updated_by" phpName="UpdatedBy" type="INTEGER" required="false"/>
    <foreign-key foreignTable="user" name="fk_usr_cre_user1">
      <reference local="usr_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="credential" name="fk_usr_cre_credential1">
      <reference local="cre_id" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_usr_cre_user2">
      <reference local="created_by" foreign="id"/>
    </foreign-key>
    <foreign-key foreignTable="user" name="fk_usr_cre_user3">
      <reference local="updated_by" foreign="id"/>
    </foreign-key>
    <index name="fk_usr_cre_user1">
      <index-column name="usr_id"/>
    </index>
    <index name="fk_usr_cre_credential1">
      <index-column name="cre_id"/>
    </index>
    <index name="fk_usr_cre_user2">
      <index-column name="created_by"/>
    </index>
    <index name="fk_usr_cre_user3">
      <index-column name="updated_by"/>
    </index>
  </table>
</database>
